<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Gym Store - Track Order</title>
<style>
  body {
    font-family: 'Poppins', Arial, sans-serif;
    background: #f4f6f8;
    margin: 0;
    padding: 0;
    color: #222831;
  }

  nav {
    background: #222831;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: white;
  }
  nav a {
    color: white;
    margin-left: 1.5rem;
    text-decoration: none;
    font-weight: 600;
  }
  nav a.active {
    text-decoration: underline;
    color: #00adb5;
  }

  main.container {
    max-width: 600px;
    margin: 3rem auto 5rem;
    background: white;
    padding: 2.5rem 2rem 3rem;
    border-radius: 14px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.1);
  }

  h1 {
    text-align: center;
    color: #00adb5;
    margin-bottom: 2rem;
    font-weight: 700;
    font-size: 2rem;
  }

  form#trackForm {
    display: flex;
    gap: 0.7rem;
    margin-bottom: 2rem;
  }

  form#trackForm input[type="text"] {
    flex: 1;
    padding: 0.85rem 1.2rem;
    font-size: 1rem;
    border: 2px solid #ccc;
    border-radius: 50px 0 0 50px;
    transition: border-color 0.3s;
    box-sizing: border-box;
  }
  form#trackForm input[type="text"]:focus {
    outline: none;
    border-color: #00adb5;
    box-shadow: 0 0 7px #00adb5aa;
  }

  form#trackForm button {
    background: #00adb5;
    color: white;
    font-weight: 600;
    border: none;
    padding: 0 1.8rem;
    font-size: 1rem;
    cursor: pointer;
    border-radius: 0 50px 50px 0;
    transition: background-color 0.3s ease;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  form#trackForm button:hover {
    background-color: #008f95;
  }

  #orderStatus {
    font-size: 1rem;
    color: #222831;
  }

  #orderStatus.error {
    background: #ffe6e6;
    color: #b30000;
    border: 2px solid #ff4c4c;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 5px 15px rgba(255, 76, 76, 0.3);
    text-align: center;
    font-weight: 700;
  }

  #orderStatus h2 {
    margin: 0 0 0.25rem 0;
    color: #00adb5;
    font-weight: 700;
    font-size: 1.6rem;
    text-align: center;
  }

  #orderStatus p {
    margin: 0.2rem 0 1rem;
    font-weight: 600;
    text-align: center;
    color: #444;
  }

  /* Step Progress Bar */
  .steps-container {
    position: relative;
    display: flex;
    justify-content: space-between;
    margin: 2rem 0 2.5rem;
    user-select: none;
  }
  .steps-line {
    position: absolute;
    top: 50%;
    left: 20px;
    right: 20px;
    height: 6px;
    background-color: #eee;
    border-radius: 3px;
    transform: translateY(-50%);
    z-index: 0;
  }
  .steps-progress {
    position: absolute;
    top: 50%;
    left: 20px;
    height: 6px;
    background-color: #00adb5;
    border-radius: 3px;
    transform: translateY(-50%);
    z-index: 1;
    transition: width 0.4s ease;
  }

  .step {
    position: relative;
    z-index: 2;
    background-color: #eee;
    color: #999;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: 700;
    cursor: default;
    transition: background-color 0.3s, color 0.3s;
  }

  .step.active {
    background-color: #00adb5;
    color: white;
    box-shadow: 0 0 12px #00adb5aa;
  }

  .step-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.45rem;
    font-weight: 600;
    font-size: 0.9rem;
    color: #555;
    user-select: none;
    letter-spacing: 0.03em;
  }

  /* Order Items */
  #orderItems {
    border-top: 1px solid #eee;
    padding-top: 1.2rem;
  }
  #orderItems h3 {
    margin-bottom: 1rem;
    font-weight: 700;
    color: #222831;
  }
  #orderItems ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  #orderItems ul li {
    display: flex;
    justify-content: space-between;
    padding: 0.45rem 0;
    border-bottom: 1px solid #f3f3f3;
    color: #333;
    font-weight: 600;
  }
  #orderItems ul li:last-child {
    border-bottom: none;
  }
  #orderItems ul li .qty {
    background: #00adb5;
    color: white;
    border-radius: 16px;
    padding: 0 0.8rem;
    font-weight: 700;
  }

  /* Responsive */
  @media (max-width: 480px) {
    main.container {
      margin: 2rem 1rem 3rem;
      padding: 1.5rem 1.5rem 2.5rem;
    }
    #orderStatus h2 {
      font-size: 1.3rem;
    }
    .step {
      width: 28px;
      height: 28px;
      font-size: 1rem;
    }
    .step-labels {
      font-size: 0.75rem;
    }
    #orderItems ul li {
      font-size: 0.9rem;
      flex-direction: column;
      align-items: flex-start;
    }
    #orderItems ul li .qty {
      margin-top: 0.3rem;
      padding: 2px 8px;
      width: auto;
    }
  }
  footer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  background-color: #222831; /* your footer background */
  color: #eee; /* footer text color */
  text-align: center;
  padding: 1rem 0;
  user-select: none;
  z-index: 9999; /* make sure it stays on top */
}
</style>
</head>
<body>
<nav aria-label="Primary Navigation">
  <div><a href="index.html" class="active" aria-current="page"><img src="http://localhost/gym/img/logo.png" alt="Gym Store"></a></div>
  <div>
    <a href="index.html">Home</a>
    <a href="products.html">Products</a>
    <a href="cart.html">Cart</a>
    <a href="my-orders.html"  aria-current="page">My Orders</a>
    <a href="order-track.html" class="active" aria-current="page">Track Order</a>
    <!-- <a href="admin.html">Admin</a> -->
    <a href="login.html">Login</a>
  </div>
</nav>

<main class="container" role="main" aria-label="Order Tracking">
  <h1>Track Your Order</h1>

  <form id="trackForm" autocomplete="off" aria-label="Order tracking form">
    <input type="text" id="orderId" placeholder="Enter your Order ID" aria-required="true" aria-describedby="orderHelp" />
    <button type="submit">Track</button>
  </form>

  <div id="orderStatus" aria-live="polite" aria-atomic="true"></div>
</main>

<footer style="text-align:center; padding: 1rem 0; background:#222831; color:#eee; user-select:none;">
  &copy; 2025 Gym Store. All rights reserved.
</footer>

<script>
  // Order status steps in sequence
  const steps = ['Placed', 'Confirmed', 'Shipped', 'Delivered'];

  const trackForm = document.getElementById('trackForm');
  const orderStatusDiv = document.getElementById('orderStatus');

  trackForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const orderId = document.getElementById('orderId').value.trim();
    if (!orderId) {
      showError('Please enter a valid Order ID.');
      return;
    }

    const orders = JSON.parse(localStorage.getItem('orders')) || [];
    const products = JSON.parse(localStorage.getItem('products')) || [];

    const order = orders.find(o => o.id === orderId);

    if (!order) {
      showError('Order not found. Please check your Order ID and try again.');
      return;
    }

    showOrderDetails(order, products);
  });

  function showError(message) {
    orderStatusDiv.className = 'error';
    orderStatusDiv.innerHTML = message;
  }

  function showOrderDetails(order, products) {
    orderStatusDiv.className = '';
    const currentStepIdx = steps.indexOf(order.status);
    const progressPercent = currentStepIdx === -1 ? 0 : (currentStepIdx / (steps.length - 1)) * 100;

    // Build step progress bar
    let stepsHtml = `
      <div class="steps-container" aria-label="Order status progress">
        <div class="steps-line"></div>
        <div class="steps-progress" style="width: ${progressPercent}%;"></div>
        ${steps.map((step,i) => {
          const activeClass = i <= currentStepIdx ? 'active' : '';
          return `<div class="step ${activeClass}" aria-current="${i === currentStepIdx ? 'step' : 'false'}" title="${step}" tabindex="0" role="listitem">${i+1}</div>`;
        }).join('')}
      </div>
      <div class="step-labels" aria-hidden="true">
        ${steps.map(step => `<div>${step}</div>`).join('')}
      </div>
    `;

    // Build order items list
    let itemsHtml = `
      <div id="orderItems">
        <h3>Order Items</h3>
        <ul>
          ${order.items.map(item => {
            const prod = products.find(p => p.id === item.id);
            const name = prod ? prod.name : 'Unknown Product';
            return `<li>${name} <span class="qty" aria-label="Quantity">${item.qty}</span></li>`;
          }).join('')}
        </ul>
      </div>
    `;

    orderStatusDiv.innerHTML = `
      <h2>Order ID: ${order.id}</h2>
      <p><strong>Order Date:</strong> ${order.date}</p>
      ${stepsHtml}
      ${itemsHtml}
    `;
  }

  // For demo: preload sample data if not exist
  (function preloadSampleData() {
    if (!localStorage.getItem('orders')) {
      const sampleOrders = [
        {
          id: '1001',
          date: '2025-07-21',
          status: 'Shipped',
          items: [{id: '1', qty: 2}, {id: '3', qty: 1}]
        },
        {
          id: '1002',
          date: '2025-07-22',
          status: 'Placed',
          items: [{id: '2', qty: 1}]
        }
      ];
      localStorage.setItem('orders', JSON.stringify(sampleOrders));
    }
    if (!localStorage.getItem('products')) {
      const sampleProducts = [
        {id: '1', name: 'Yoga Mat'},
        {id: '2', name: 'Kettlebell (10 kg)'},
        {id: '3', name: 'Dumbbell (Pair)'}
      ];
      localStorage.setItem('products', JSON.stringify(sampleProducts));
    }
  })();
</script>
</body>
</html>
